<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iter</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>
    <div id="container"></div>

    <script>
        const ele1 = { title: 'title1', src: 'https://t4.ftcdn.net/jpg/01/43/42/83/360_F_143428338_gcxw3Jcd0tJpkvvb53pfEztwtU9sxsgT.jpg', content: 'content1', author: 'me', num: '1' };
        const ele2 = { title: 'title2', src: 'https://t4.ftcdn.net/jpg/01/43/42/83/360_F_143428338_gcxw3Jcd0tJpkvvb53pfEztwtU9sxsgT.jpg', content: 'content2', author: 'notme', num: '2' };
        const ele3 = { title: 'title3', src: 'https://t4.ftcdn.net/jpg/01/43/42/83/360_F_143428338_gcxw3Jcd0tJpkvvb53pfEztwtU9sxsgT.jpg', content: 'content3', author: 'me', num: '3' };

        localStorage.setItem('key1', JSON.stringify(ele1));
        localStorage.setItem('key2', JSON.stringify(ele2));
        localStorage.setItem('key3', JSON.stringify(ele3));

        const container = $('#container');

        // localStorage 내 모든 value들을 가져와 values 배열에 저장
        const values = [];
        for (const key in localStorage) {
            values.push(localStorage.getItem(key));
        }

        // 반복문을 통해 values 배열 내 각 value에 접근
        for (const value of values) {
            const info = JSON.parse(value)
            // 해당 작성자의 내용만 뜨도록 설정
            if (info.author == 'me') {
                const card = document.createElement('div');
                card.classList.add('card');
                card.innerHTML = `<img src="${info.src}" class="card-img-top thumbnail" alt="1">
            <div class="card-body">
                    <h5 class="card-title">${info.title}</h5>
                    <div class="d-flex justify-content-center">
                        <button type="button" class="btn btn-info">Read More</button>
                    </div>
                </div>`;
                container.append(card);
            }

        }


    </script>
</body>

</html>